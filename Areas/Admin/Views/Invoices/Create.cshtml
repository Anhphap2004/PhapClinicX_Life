@model PhapClinicX.Models.Invoice
@{
    ViewData["Title"] = "Tạo Hóa Đơn";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<style>
    .form-container {
        background-color: #ffffff;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        padding: 30px;
    }

    .form-label {
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 8px;
    }

    .form-control, .form-check-input {
        border-radius: 6px;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

        .form-control:focus {
            border-color: #007bff;
            box-shadow: 0 0 8px rgba(0, 123, 255, 0.2);
        }

    .btn-custom {
        padding: 8px 20px;
        font-size: 0.9rem;
        border-radius: 6px;
        transition: all 0.3s ease;
    }

        .btn-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

    .section-title {
        font-size: 1.2rem;
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 1.5rem;
        padding-bottom: 0.75rem;
        border-bottom: 1px solid #e9ecef;
    }

    .section-container {
        background-color: #fff;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }
</style>

<div class="container-fluid py-4">
    <h3 class="mb-4 fw-bold">Tạo Hóa Đơn</h3>

    <form asp-action="Create">
        <div asp-validation-summary="ModelOnly" class="text-danger mb-4"></div>
        <input type="hidden" asp-for="UserId" />
        <!-- Thông tin cơ bản -->
        <div class="section-container">
            <h5 class="section-title">Thông tin cơ bản</h5>
            <div class="row mb-3">
             
                <div class="col-md-6">
                    <label asp-for="PhongKhamId" class="form-label">Phòng khám</label>
                    <select asp-for="PhongKhamId" class="form-select" asp-items="ViewBag.PhongKhamId">
                        <option value="">-- Chọn phòng khám --</option>
                    </select>
                    <span asp-validation-for="PhongKhamId" class="text-danger"></span>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label asp-for="InvoiceType" class="form-label">Loại hóa đơn</label>
                    <select asp-for="InvoiceType" class="form-select">
                        <option value="">-- Chọn loại hóa đơn --</option>
                        <option value="Sản phẩm">Sản phẩm</option>
                        <option value="Dịch vụ">Dịch vụ</option>
                        <option value="Lịch hẹn">Lịch hẹn</option>
                    </select>

                    <span asp-validation-for="InvoiceType" class="text-danger"></span>
                </div>
                <div class="col-md-6">
                    <label asp-for="Status" class="form-label">Trạng thái</label>
                    <select asp-for="Status" class="form-select">
                        <option value="">-- Chọn trạng thái --</option>
                        <option value="Chờ xử lý">Chờ xử lý</option>
                        <option value="Hoàn thành">Thanh Toán Tiền Mặt</option>
                        <option value="Chờ xử lý">Thanh Toán VNPAY</option>
                        <option value="Đã hủy">Đã hủy</option>          
                    </select>
                    <span asp-validation-for="Status" class="text-danger"></span>
                </div>
            </div>
        </div>

        <!-- Chi tiết thanh toán -->
        <div class="section-container">
            <h5 class="section-title">Chi tiết thanh toán</h5>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label asp-for="TotalAmount" class="form-label">Tổng tiền</label>
                    <div class="input-group">
                        <input asp-for="TotalAmount" class="form-control" placeholder="0" />
                        <span class="input-group-text">VNĐ</span>
                    </div>
                    <span asp-validation-for="TotalAmount" class="text-danger"></span>
                </div>
                <div class="col-md-6">
                    <label asp-for="Method" class="form-label">Phương thức thanh toán</label>
                    <select asp-for="Method" class="form-select">
                        <option value="">-- Chọn phương thức --</option>
                        <option value="Cash">Tiền mặt</option>
                        <option value="Card">Thẻ</option>
                        <option value="Banking">Chuyển khoản</option>
                        <option value="Momo">Ví VNPAY</option>
                    </select>
                    <span asp-validation-for="Method" class="text-danger"></span>
                </div>
            </div>
        </div>

        <!-- Thông tin giảm giá -->
        <div class="section-container">
            <h5 class="section-title">Thông tin giảm giá</h5>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label asp-for="DiscountCode" class="form-label">Mã giảm giá</label>
                    <div class="input-group">
                        <input asp-for="DiscountCode" class="form-control" placeholder="Nhập mã giảm giá..." />
                        <button class="btn btn-outline-secondary" type="button">Áp dụng</button>
                    </div>
                    <span asp-validation-for="DiscountCode" class="text-danger"></span>
                </div>
                <div class="col-md-6">
                    <label asp-for="DiscountId" class="form-label">ID khuyến mãi</label>
                    <input asp-for="DiscountId" class="form-control" placeholder="ID khuyến mãi (tự động)" readonly />
                    <span asp-validation-for="DiscountId" class="text-danger"></span>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <label asp-for="DiscountAmount" class="form-label">Số tiền giảm</label>
                    <div class="input-group">
                        <input asp-for="DiscountAmount" class="form-control" placeholder="0" />
                        <span class="input-group-text">VNĐ</span>
                    </div>
                    <span asp-validation-for="DiscountAmount" class="text-danger"></span>
                </div>
            </div>
        </div>

        <div class="d-flex justify-content-between mt-4">
            <a asp-action="Index" class="btn btn-secondary btn-custom">Quay lại</a>
            <button type="submit" class="btn btn-primary btn-custom">Tạo hóa đơn</button>
        </div>
    </form>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}